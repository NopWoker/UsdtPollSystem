import{g as d,t as O}from"./index-Dz-O0943.js";import{M as j}from"./@arco-design-uttiljWv.js";import{r as c,c as C,a as M,h as p,j as P,k as E,l as n,t as l,a1 as b,O as F}from"./@vue-9ZIPiVZG.js";const V={getPageList(r={}){return d({url:"/app/aiq_payment/trc/TrcBlocks/index",method:"get",params:r})},save(r={}){return d({url:"/app/aiq_payment/trc/TrcBlocks/save",method:"post",data:r})},update(r,_={}){return d({url:"/app/aiq_payment/trc/TrcBlocks/update?id="+r,method:"put",data:_})},read(r){return d({url:"/app/aiq_payment/trc/TrcBlocks/read?id="+r,method:"get"})},destroy(r){return d({url:"/app/aiq_payment/trc/TrcBlocks/destroy",method:"delete",data:r})}},R={__name:"edit",emits:["success"],setup(r,{expose:_,emit:k}){const w=k,m=c(!1),f=c(!1),g=c(),v=c("");let q=C(()=>"区块扫描记录"+(v.value=="add"?"-新增":"-编辑"));const y={id:null,transaction_count:null,raw_data:"",size:null,witness_signature:"",energy_used:null,energy_limit:null,merkle_root:""},t=M({...y}),B={block_number:[{required:!0,message:"区块高度必需填写"}],block_hash:[{required:!0,message:"区块哈希必需填写"}],transaction_count:[{required:!0,message:"区块交易数目必需填写"}],block_time:[{required:!0,message:"区块时间必需填写"}],size:[{required:!0,message:"区块大小必需填写"}],energy_used:[{required:!0,message:"消耗的能量必需填写"}],energy_limit:[{required:!0,message:"能量限制必需填写"}],create_time:[{required:!0,message:"创建时间必需填写"}],update_time:[{required:!0,message:"更新时间必需填写"}]},U=async(s="add")=>{v.value=s,Object.assign(t,y),g.value.clearValidate(),m.value=!0,await T()},T=async()=>{},h=async s=>{for(const e in t)s[e]!=null&&s[e]!=null&&(t[e]=s[e])},x=async s=>{var u;if(!await((u=g.value)==null?void 0:u.validate())){f.value=!0;let o={...t},i={};v.value==="add"?(o.id=void 0,i=await V.save(o)):i=await V.update(o.id,o),i.code===200&&(j.success("操作成功"),w("success"),s(!0)),setTimeout(()=>{f.value=!1},500)}s(!1)},z=()=>m.value=!1;return _({open:U,setFormData:h}),(s,e)=>{const u=p("a-input"),o=p("a-form-item"),i=p("ma-wangEditor"),D=p("a-form");return E(),P(F("a-modal"),{width:b(O).getDevice()==="mobile"?"100%":"600px",visible:m.value,"onUpdate:visible":e[7]||(e[7]=a=>m.value=a),title:b(q),"mask-closable":!1,"ok-loading":f.value,onCancel:z,onBeforeOk:x},{default:n(()=>[l(D,{ref_key:"formRef",ref:g,model:t,rules:B,"auto-label-width":!0},{default:n(()=>[l(o,{label:"区块交易数目",field:"transaction_count"},{default:n(()=>[l(u,{modelValue:t.transaction_count,"onUpdate:modelValue":e[0]||(e[0]=a=>t.transaction_count=a),placeholder:"请输入区块交易数目"},null,8,["modelValue"])]),_:1}),l(o,{label:"区块原始数据",field:"raw_data"},{default:n(()=>[l(i,{modelValue:t.raw_data,"onUpdate:modelValue":e[1]||(e[1]=a=>t.raw_data=a),height:400},null,8,["modelValue"])]),_:1}),l(o,{label:"区块大小",field:"size"},{default:n(()=>[l(u,{modelValue:t.size,"onUpdate:modelValue":e[2]||(e[2]=a=>t.size=a),placeholder:"请输入区块大小"},null,8,["modelValue"])]),_:1}),l(o,{label:"见证人签名",field:"witness_signature"},{default:n(()=>[l(i,{modelValue:t.witness_signature,"onUpdate:modelValue":e[3]||(e[3]=a=>t.witness_signature=a),height:400},null,8,["modelValue"])]),_:1}),l(o,{label:"消耗的能量",field:"energy_used"},{default:n(()=>[l(u,{modelValue:t.energy_used,"onUpdate:modelValue":e[4]||(e[4]=a=>t.energy_used=a),placeholder:"请输入消耗的能量"},null,8,["modelValue"])]),_:1}),l(o,{label:"能量限制",field:"energy_limit"},{default:n(()=>[l(u,{modelValue:t.energy_limit,"onUpdate:modelValue":e[5]||(e[5]=a=>t.energy_limit=a),placeholder:"请输入能量限制"},null,8,["modelValue"])]),_:1}),l(o,{label:"默克尔根",field:"merkle_root"},{default:n(()=>[l(u,{modelValue:t.merkle_root,"onUpdate:modelValue":e[6]||(e[6]=a=>t.merkle_root=a),placeholder:"请输入默克尔根"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},40,["width","visible","title","ok-loading"])}}},A=Object.freeze(Object.defineProperty({__proto__:null,default:R},Symbol.toStringTag,{value:"Module"}));export{R as _,V as a,A as e};
