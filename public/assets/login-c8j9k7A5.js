import{_ as q}from"./logo-B7uA2Tfd.js";import{_ as x,u as B,a as U,p as A,l as j}from"./index-Dz-O0943.js";import{b as R,u as D}from"./vue-router-DXldG2q0.js";import{r as _,a as E,h as i,n as I,k as J,m as t,Q,z as l,a1 as v,t as r,l as a,y as T,q as Z}from"./@vue-9ZIPiVZG.js";import"./@wangeditor-Bg8kJaak.js";import"./pinia-CtMvrpix.js";import"./axios-BOAqGR8s.js";import"./@arco-design-uttiljWv.js";import"./resize-observer-polyfill-B1PUzC5B.js";import"./compute-scroll-into-view-1gs_hJI2.js";import"./b-tween-BtQQsX34.js";import"./dayjs-DUkVwsK-.js";import"./number-precision-BW_FzNZC.js";import"./scroll-into-view-if-needed-SxpMpKWN.js";import"./b-validate-DHOn5MGm.js";import"./vue-QIJ1KGct.js";import"./color-JIMhKyf3.js";import"./color-string-Ckj7g19G.js";import"./color-name-BQ5IbGbl.js";import"./simple-swizzle-BUB9Iq-C.js";import"./is-arrayish-BII_q15j.js";import"./crypto-js-B6um_4t4.js";import"./lodash-fWIJiXPB.js";import"./qs-CGfOb-kZ.js";import"./side-channel-0xN0c_x9.js";import"./es-errors-CFxpeikN.js";import"./object-inspect-Pz2pmunN.js";import"./side-channel-list-asz5kCf8.js";import"./side-channel-map-DBz1yoQn.js";import"./get-intrinsic-CCph2EoF.js";import"./es-object-atoms-Ditt1eQ6.js";import"./math-intrinsics-Cv-yPkyD.js";import"./gopd-fcd2-aIC.js";import"./es-define-property-bDCdrV83.js";import"./has-symbols-BaUvM3gb.js";import"./get-proto-cKMTtFGz.js";import"./dunder-proto-CiSsr-aM.js";import"./call-bind-apply-helpers-DFdvRtIg.js";import"./function-bind-CHqF18-c.js";import"./hasown-DwiY0sux.js";import"./call-bound-BMZ_xw6V.js";import"./side-channel-weakmap-CMrfu08b.js";import"./nprogress-DxiOKil-.js";import"./monaco-editor-nMXQdunA.js";import"./file2md5-B4-SI92N.js";import"./spark-md5-D8tidE2e.js";import"./lodash.noop-BeiKyXVG.js";import"./vue-color-kit-w75Wyu4C.js";import"./vue-clipboard3-DpvFlCWw.js";import"./clipboard-ehac6u_s.js";import"./vue-echarts-B-rvonkO.js";import"./resize-detector-G6vbKCU7.js";import"./echarts-Cz-L25MO.js";import"./tslib-BDyQ-Jie.js";import"./zrender-xbpiMqDc.js";import"./@iconify-BfRLEUc9.js";import"./vue-i18n-PeqK6azz.js";import"./@intlify-CJ2pDqUV.js";const F={class:"login-logo"},G={class:"login-width md:w-10/12 w-11/12 mx-auto flex justify-between h-full items-center"},H={class:"w-6/12 mx-auto left-panel rounded-l pl-5 pr-5 hidden md:block"},K={class:"logo"},L={class:"slogan flex justify-end"},M={class:"md:w-6/12 w-11/12 md:rounded-r mx-auto pl-5 pr-5 pb-10"},O={class:"mt-10 text-3xl pb-0 mb-10 login-title"},P=["src"],W={__name:"login",setup(X){const y=B(),h=R(),u=D(),c=_(null),n=_(!1);var b={username:"",password:"",code:""};const s=E(b),d=()=>{s.code="",s.uuid="",j.getCaptch().then(e=>{e.code===200&&(c.value=e.data.image,s.uuid=e.data.uuid)})};d();const w=U(),V=u.query.redirect?u.query.redirect:"/",$=async({values:e,errors:o})=>{if(!n.value){if(n.value=!0,!o){if(!await w.login(s)){n.value=!1,d();return}h.push(V)}n.value=!1}};return(e,o)=>{const f=i("icon-user"),g=i("a-input"),m=i("a-form-item"),k=i("icon-lock"),S=i("a-input-password"),z=i("icon-safe"),C=i("a-button"),N=i("a-form");return J(),I("div",{class:"login-container",style:Z({background:v(y).mode==="dark"?"#2e2e30e3":""})},[t("h3",F,[o[3]||(o[3]=t("img",{src:q,alt:"logo"},null,-1)),t("span",null,l(e.$title),1)]),t("div",G,[t("div",H,[t("div",K,[t("span",null,l(e.$title)+" v"+l(v(A).version),1)]),t("div",L,[t("span",null,"---- "+l(e.$t("sys.login.slogan")),1)])]),t("div",M,[t("h2",O,l(e.$t("sys.login.title")),1),r(N,{model:s,onSubmit:$},{default:a(()=>[r(m,{field:"username","hide-label":!0,rules:[{required:!0,message:e.$t("sys.login.usernameNotice")}]},{default:a(()=>[r(g,{modelValue:s.username,"onUpdate:modelValue":o[0]||(o[0]=p=>s.username=p),class:"w-full",size:"large",placeholder:e.$t("sys.login.username"),"allow-clear":""},{prefix:a(()=>[r(f)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["rules"]),r(m,{field:"password","hide-label":!0,rules:[{required:!0,message:e.$t("sys.login.passwordNotice")}]},{default:a(()=>[r(S,{modelValue:s.password,"onUpdate:modelValue":o[1]||(o[1]=p=>s.password=p),placeholder:e.$t("sys.login.password"),size:"large","allow-clear":""},{prefix:a(()=>[r(k)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["rules"]),r(m,{field:"code","hide-label":!0,rules:[{required:!0,match:/^[a-zA-Z0-9]{4}$/,message:e.$t("sys.login.verifyCodeNotice")}]},{default:a(()=>[r(g,{modelValue:s.code,"onUpdate:modelValue":o[2]||(o[2]=p=>s.code=p),placeholder:e.$t("sys.login.verifyCode"),size:"large","allow-clear":""},{prefix:a(()=>[r(z)]),append:a(()=>[t("img",{src:c.value,style:{height:"36px",cursor:"pointer"},onClick:d},null,8,P)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["rules"]),r(m,{"hide-label":!0,class:"mt-5"},{default:a(()=>[r(C,{"html-type":"submit",type:"primary",long:"",size:"large",loading:n.value},{default:a(()=>[T(l(e.$t("sys.login.loginBtn")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])]),o[4]||(o[4]=Q('<div class="login-bg" data-v-4aae3e60><div class="fly bg-fly-circle1" data-v-4aae3e60></div><div class="fly bg-fly-circle2" data-v-4aae3e60></div><div class="fly bg-fly-circle3" data-v-4aae3e60></div><div class="fly bg-fly-circle4" data-v-4aae3e60></div></div>',1))],4)}}},ro=x(W,[["__scopeId","data-v-4aae3e60"]]);export{ro as default};
