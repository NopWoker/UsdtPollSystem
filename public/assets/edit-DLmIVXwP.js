import{g as i,t as C}from"./index-Dz-O0943.js";import{M as B}from"./@arco-design-uttiljWv.js";import{r as m,c as M,a as P,h as g,j as U,k as F,l as c,t as u,a1 as b,O as R}from"./@vue-9ZIPiVZG.js";const q={getPageList(t={}){return i({url:"/app/aiq_payment/trc/TrcTransactions/index",method:"get",params:t})},save(t={}){return i({url:"/app/aiq_payment/trc/TrcTransactions/save",method:"post",data:t})},update(t,p={}){return i({url:"/app/aiq_payment/trc/TrcTransactions/update?id="+t,method:"put",data:p})},read(t){return i({url:"/app/aiq_payment/trc/TrcTransactions/read?id="+t,method:"get"})},destroy(t){return i({url:"/app/aiq_payment/trc/TrcTransactions/destroy",method:"delete",data:t})}},S={__name:"edit",emits:["success"],setup(t,{expose:p,emit:T}){const k=T,d=m(!1),f=m(!1),_=m(),v=m("");let w=M(()=>"交易记录"+(v.value=="add"?"-新增":"-编辑"));const y={id:null,amount:"0.000000",fee:"0.000000"},a=P({...y}),V={wallet_id:[{required:!0,message:"关联钱包ID必需填写"}],transaction_type:[{required:!0,message:"动账类型必需填写"}],amount:[{required:!0,message:"动账金额必需填写"}],fee:[{required:!0,message:"手续费必需填写"}],create_time:[{required:!0,message:"创建时间必需填写"}],update_time:[{required:!0,message:"更新时间必需填写"}]},h=async(o="add")=>{v.value=o,Object.assign(a,y),_.value.clearValidate(),d.value=!0,await x()},x=async()=>{},D=async o=>{for(const e in a)o[e]!=null&&o[e]!=null&&(a[e]=o[e])},O=async o=>{var l;if(!await((l=_.value)==null?void 0:l.validate())){f.value=!0;let s={...a},r={};v.value==="add"?(s.id=void 0,r=await q.save(s)):r=await q.update(s.id,s),r.code===200&&(B.success("操作成功"),k("success"),o(!0)),setTimeout(()=>{f.value=!1},500)}o(!1)},j=()=>d.value=!1;return p({open:h,setFormData:D}),(o,e)=>{const l=g("a-input"),s=g("a-form-item"),r=g("a-form");return F(),U(R("a-modal"),{width:b(C).getDevice()==="mobile"?"100%":"600px",visible:d.value,"onUpdate:visible":e[2]||(e[2]=n=>d.value=n),title:b(w),"mask-closable":!1,"ok-loading":f.value,onCancel:j,onBeforeOk:O},{default:c(()=>[u(r,{ref_key:"formRef",ref:_,model:a,rules:V,"auto-label-width":!0},{default:c(()=>[u(s,{label:"动账金额",field:"amount"},{default:c(()=>[u(l,{modelValue:a.amount,"onUpdate:modelValue":e[0]||(e[0]=n=>a.amount=n),placeholder:"请输入动账金额"},null,8,["modelValue"])]),_:1}),u(s,{label:"手续费",field:"fee"},{default:c(()=>[u(l,{modelValue:a.fee,"onUpdate:modelValue":e[1]||(e[1]=n=>a.fee=n),placeholder:"请输入手续费"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},40,["width","visible","title","ok-loading"])}}},N=Object.freeze(Object.defineProperty({__proto__:null,default:S},Symbol.toStringTag,{value:"Module"}));export{S as _,q as a,N as e};
